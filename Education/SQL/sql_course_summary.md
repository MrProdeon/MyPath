# üìò SQL: –û—Å–Ω–æ–≤—ã –∏ –¢–∏–ø—ã –î–∞–Ω–Ω—ã—Ö

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ SQL?

**SQL (Structured Query Language)** ‚Äî —è–∑—ã–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö:

- –ò—â–µ—Ç –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –°–æ—Ä—Ç–∏—Ä—É–µ—Ç, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –∏—Ö.
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤).

**SQL ‚Äî –Ω–µ —è–∑—ã–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–æ–≤/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**, –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç *—Å –¥–∞–Ω–Ω—ã–º–∏*.

## üß© –†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Ç–∞–±–ª–∏—Ü, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–æ–±–æ–π.

- –¢–∞–±–ª–∏—Ü–∞ = –æ–±—ä–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ö–ª–∏–µ–Ω—Ç—ã, –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏, –¢–æ–≤–∞—Ä—ã)
- –¢–∞–±–ª–∏—Ü—ã —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ **–ø–µ—Ä–≤–∏—á–Ω—ã–µ** –∏ **–≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏**

**–ü—Ä–∏–º–µ—Ä —Å–≤—è–∑–∏:**

```
–¢–∞–±–ª–∏—Ü–∞ –¢–æ–≤–∞—Ä—ã:
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (Primary Key)
- –ü–æ—Å—Ç–∞–≤—â–∏–∫ (Foreign Key -> –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏.–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
```

**–°—Ç–æ–ª–±—Ü—ã (columns)**: –ø–æ–ª—è, –∞—Ç—Ä–∏–±—É—Ç—ã, fields

**–°—Ç—Ä–æ–∫–∏ (rows)**: –∑–∞–ø–∏—Å–∏, –∫–æ—Ä—Ç–µ–∂–∏, records

## üõ† –ß—Ç–æ —Ç–∞–∫–æ–µ –°–£–ë–î

**–°–£–ë–î (—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö)** ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –ë–î –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã.

üìç –ü—Ä–∏–º–µ—Ä—ã: MySQL, PostgreSQL, SQLite, Oracle

## üì¶ –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ SQL

### üî§ –°—Ç—Ä–æ–∫–æ–≤—ã–µ —Ç–∏–ø—ã

#### `CHAR(n)`

- –°—Ç—Ä–æ–∫–∞ **—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã**
- –î–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–æ–±–µ–ª–∞–º–∏ –¥–æ `n`
- –î–æ 255 —Å–∏–º–≤–æ–ª–æ–≤

```sql
–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ CHAR(12)
```

#### `VARCHAR(n)`

- –°—Ç—Ä–æ–∫–∞ **–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã**
- –î–æ 65 535 –±–∞–π—Ç
- –•—Ä–∞–Ω–∏—Ç —Å—Ç—Ä–æ–∫—É + 1 –∏–ª–∏ 2 –±–∞–π—Ç–∞ –¥–ª–∏–Ω—ã (–≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏)

```sql
–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ VARCHAR(12)
```

üî∏ –ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è:
- –°–ª–æ–≤–æ "–ü—Ä–∏–≤–µ—Ç" (6 –±–∞–π—Ç) ‚Üí –∑–∞–Ω–∏–º–∞–µ—Ç 1 –±–∞–π—Ç –¥–ª–∏–Ω—ã + 6 –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö = 7 –±–∞–π—Ç

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `CHAR` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–¥—ã, —Ñ–ª–∞–≥–∏)
- `VARCHAR` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ (–∏–º–µ–Ω–∞, –∞–¥—Ä–µ—Å–∞)

#### `BINARY(n)` / `VARBINARY(n)`

- –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–≤–æ–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–±–∞–π—Ç–æ–≤)
- `BINARY` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞, –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è `0x00`
- `VARBINARY` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞

#### `BLOB` / `TEXT`

- –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- `BLOB` ‚Äî –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ñ–∞–π–ª—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
- `TEXT` ‚Äî –±–æ–ª—å—à–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–¢–∏–ø—ã:
- TINYBLOB / TINYTEXT
- BLOB / TEXT
- MEDIUMBLOB / MEDIUMTEXT
- LONGBLOB / LONGTEXT

#### `ENUM`, `SET`

- `ENUM` ‚Äî –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞
- `SET` ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å–ø–∏—Å–∫–∞

```sql
–ø–æ–ª ENUM('–º', '–∂')
```

### üî¢ –ß–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã

#### `DECIMAL(p, s)`

- –ß–∏—Å–ª–æ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π
- `p` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä, `s` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: `NUMERIC`, `DEC`, `FIXED`

#### `FLOAT(M, D)` / `DOUBLE(M, D)`

- –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
- `FLOAT` ‚Äî 4 –±–∞–π—Ç–∞, `DOUBLE` ‚Äî 8 –±–∞–π—Ç
- `M` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä, `D` ‚Äî –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã: `REAL`, `DOUBLE PRECISION`

#### –¶–µ–ª—ã–µ —á–∏—Å–ª–∞:

- `TINYINT`, `SMALLINT`, `MEDIUMINT`, `INT`, `BIGINT`

| –¢–∏–ø       | –†–∞–∑–º–µ—Ä  | –î–∏–∞–ø–∞–∑–æ–Ω (–∑–Ω–∞–∫–æ–≤—ã–π)     |
| --------- | ------- | ----------------------- |
| TINYINT   | 1 –±–∞–π—Ç  | -128 –¥–æ 127             |
| SMALLINT  | 2 –±–∞–π—Ç–∞ | -32 768 –¥–æ 32 767       |
| MEDIUMINT | 3 –±–∞–π—Ç–∞ | -8 388 608 –¥–æ 8 388 607 |
| INT       | 4 –±–∞–π—Ç–∞ | -2 –º–ª—Ä–¥ –¥–æ +2 –º–ª—Ä–¥      |
| BIGINT    | 8 –±–∞–π—Ç  | –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω  |

#### `BIT(n)`

- –•—Ä–∞–Ω–∏—Ç –±–∏–Ω–∞—Ä–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–æ—Ç 1 –¥–æ 64 –±–∏—Ç)

```sql
b'101' -> BIT(6) —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–∞–∫ b'000101'
```

### üìÖ –¢–∏–ø—ã –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏

#### `DATE`
- –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞: `'YYYY-MM-DD'`
- –î–∏–∞–ø–∞–∑–æ–Ω: `'1000-01-01'` –¥–æ `'9999-12-31'`

#### `DATETIME`
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è: `'YYYY-MM-DD HH:MI:SS'`
- –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω—ã

#### `TIMESTAMP`
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ UTC, —É—á–∏—Ç—ã–≤–∞–µ—Ç —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
- –î–∏–∞–ø–∞–∑–æ–Ω: `'1970-01-01 00:00:01'` –¥–æ `'2038-01-19 03:14:07'`

#### `TIME`
- –í—Ä–µ–º—è: `'HH:MI:SS'` –∏–ª–∏ `'HHH:MI:SS'`
- –î–∏–∞–ø–∞–∑–æ–Ω: `-838:59:59` –¥–æ `838:59:59`

#### `YEAR`
- –•—Ä–∞–Ω–∏—Ç –≥–æ–¥ (1901‚Äì2155)

#### –§–æ—Ä–º–∞—Ç—ã –≤—Å—Ç–∞–≤–∫–∏:
- `DATE`: `YYYY-MM-DD`
- `DATETIME`, `TIMESTAMP`: `YYYY-MM-DD HH:MI:SS`
- `TIME`: `HH:MI:SS`
- `YEAR`: `YYYY`

---

## üß± –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ MySQL

```sql
CREATE TABLE –∏–º—è_—Ç–∞–±–ª–∏—Ü—ã (
  –∏–º—è_—Å—Ç–æ–ª–±—Ü–∞1 —Ç–∏–ø_–¥–∞–Ω–Ω—ã—Ö1 –∞—Ç—Ä–∏–±—É—Ç—ã,
  –∏–º—è_—Å—Ç–æ–ª–±—Ü–∞2 —Ç–∏–ø_–¥–∞–Ω–Ω—ã—Ö2,
  ...
);
```

- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å—Ç–æ–ª–±—Ü–æ–≤ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö
- –ê—Ç—Ä–∏–±—É—Ç—ã (NULL, PRIMARY KEY –∏ –¥—Ä.) ‚Äî –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### üñã –ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:

- –ù–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏ —Å—Ç–æ–ª–±—Ü–æ–≤ ‚Äî –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ
- SQL-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî –≤ –í–ï–†–•–ù–ï–ú –†–ï–ì–ò–°–¢–†–ï (CREATE, INSERT, SELECT)

–ü—Ä–∏–º–µ—Ä:

```sql
CREATE TABLE med_area (
    area_num TINYINT,
    area_address VARCHAR(1000)
);
```

### üìÑ –ü—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü–∞ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤

```sql
CREATE TABLE patients (
    full_name VARCHAR(100),       -- –§–ò–û
    sex CHAR(1),                  -- '–º' –∏–ª–∏ '–∂'
    birth_date DATE,              -- –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
    oms_num BIGINT                -- –Ω–æ–º–µ—Ä –ø–æ–ª–∏—Å–∞ –û–ú–° (16 —Ü–∏—Ñ—Ä)
);
```

### üìÑ –ü—Ä–∏–º–µ—Ä: —Ç–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–∫–æ–≤

```sql
CREATE TABLE med_area (
    area_num TINYINT,             -- –Ω–æ–º–µ—Ä —É—á–∞—Å—Ç–∫–∞ (1‚Äì100)
    area_address VARCHAR(1000)    -- –∞–¥—Ä–µ—Å–∞ –¥–æ–º–æ–≤
);
```

---

## üîê –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

### `NOT NULL`
–ó–∞–ø—Ä–µ—â–∞–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å `NULL` –≤ —Å—Ç–æ–ª–±—Ü–µ.

```sql
CREATE TABLE patients (
    full_name VARCHAR(100) NOT NULL,
    ...
);
```

–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å—Ç–æ–ª–±—Ü–∞:
```sql
ALTER TABLE patients
CHANGE full_name full_name VARCHAR(100) NOT NULL;
```

### `UNIQUE`
–ó–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ `NULL`):

```sql
CREATE TABLE patients (
    oms_num BIGINT UNIQUE
);
```

### `PRIMARY KEY`

- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç `UNIQUE + NOT NULL`
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–º: `(col1, col2)`
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω –Ω–∞ —Ç–∞–±–ª–∏—Ü—É

```sql
CREATE TABLE med_area (
    area_num TINYINT PRIMARY KEY,
    area_address VARCHAR(1000)
);
```

–ò–õ–ò:

```sql
CREATE TABLE med_area (
    area_num TINYINT,
    area_address VARCHAR(1000),
    PRIMARY KEY (area_num)
);
```

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É:
```sql
ALTER TABLE med_area ADD PRIMARY KEY(area_num);
```

### ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤

```sql
ALTER TABLE patients
ADD COLUMN card_num INT;
```

### üîó –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á (`FOREIGN KEY`)

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Å—ã–ª–æ—á–Ω—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å
- –°–≤—è–∑—ã–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∫–ª—é—á—É

```sql
CREATE TABLE students (
    id INT PRIMARY KEY,
    name VARCHAR(100)
);

CREATE TABLE grades (
    id INT PRIMARY KEY,
    student_id INT,
    subject VARCHAR(100),
    grade INT,
    FOREIGN KEY (student_id) REFERENCES students(id)
);
```

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞:
```sql
ALTER TABLE patients
ADD FOREIGN KEY (area_num) REFERENCES med_area(area_num);
```

üìù –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.

---



